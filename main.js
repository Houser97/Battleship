(()=>{"use strict";var n={426:(n,e,r)=>{r.d(e,{Z:()=>c});var t=r(537),a=r.n(t),o=r(645),i=r.n(o)()(a());i.push([n.id,":root {\n    --thickness-boarders: 2px;\n    --color-boarders: rgb(46, 46, 183);\n}\n\n* {\n    padding: 0;\n    margin: 0;\n    outline: none;\n    box-sizing: border-box;\n}\n\nbody {\n    background-color: #E3F2FD;\n    height: 100vh;\n}\n\nheader {\n    width: 100%;\n    background-color: rgb(29, 25, 25);\n    color: white;\n    font-size: 10vh;\n    min-height: 12vh;\n    max-height: 12vh;\n    font-weight: 600;\n    display: flex;\n    justify-content: center; align-items: center;\n}\n\n.gameboard {\n    height: 100%;\n    width: 100%;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n}\n\n/*-------------------------------------------------------GRID*/\n/*-----------------------------------------------------------*/\n.outer-grid{\n    display: grid;\n    min-height: 450px;\n    min-width: 450px;\n    grid-template-columns: repeat(11,1fr);\n    grid-template-rows: repeat(11,1fr);\n    margin: 10%;\n}\n\n.grid-player {\n    display: grid;\n    grid-column: 2/-1;\n    grid-row: 2/-1;\n    grid-template-columns: repeat(10,1fr);\n    grid-template-rows: repeat(10,1fr);\n    border: 1.4px solid black;\n}\n\n.grid-unit {\n    border: 1px solid silver;\n}\n\n.coordinate-top{\n    display: grid;\n    grid-column: 2/-1;\n    grid-row: 1;\n    grid-template-columns: repeat(10,1fr);\n    text-align: center;\n    align-items: center;\n}\n\n.coordinate-left{\n    display: grid;\n    grid-column: 1;\n    grid-row: 2/-1;\n    grid-template-rows: repeat(10,1fr);\n    align-items: center; text-align: center;\n}\n\n.ship {\n    background-color: rgba(35, 35, 245, 0.55);\n}\n\n.empty{\n    background-color: rgb(223, 65, 65);\n}\n\n.hit{\n    background-color: rgb(70, 223, 65);\n}\n\n.sunk {\n    background-color: black;\n}\n","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;IACI,yBAAyB;IACzB,kCAAkC;AACtC;;AAEA;IACI,UAAU;IACV,SAAS;IACT,aAAa;IACb,sBAAsB;AAC1B;;AAEA;IACI,yBAAyB;IACzB,aAAa;AACjB;;AAEA;IACI,WAAW;IACX,iCAAiC;IACjC,YAAY;IACZ,eAAe;IACf,gBAAgB;IAChB,gBAAgB;IAChB,gBAAgB;IAChB,aAAa;IACb,uBAAuB,EAAE,mBAAmB;AAChD;;AAEA;IACI,YAAY;IACZ,WAAW;IACX,aAAa;IACb,6BAA6B;IAC7B,mBAAmB;AACvB;;AAEA,8DAA8D;AAC9D,8DAA8D;AAC9D;IACI,aAAa;IACb,iBAAiB;IACjB,gBAAgB;IAChB,qCAAqC;IACrC,kCAAkC;IAClC,WAAW;AACf;;AAEA;IACI,aAAa;IACb,iBAAiB;IACjB,cAAc;IACd,qCAAqC;IACrC,kCAAkC;IAClC,yBAAyB;AAC7B;;AAEA;IACI,wBAAwB;AAC5B;;AAEA;IACI,aAAa;IACb,iBAAiB;IACjB,WAAW;IACX,qCAAqC;IACrC,kBAAkB;IAClB,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,cAAc;IACd,cAAc;IACd,kCAAkC;IAClC,mBAAmB,EAAE,kBAAkB;AAC3C;;AAEA;IACI,yCAAyC;AAC7C;;AAEA;IACI,kCAAkC;AACtC;;AAEA;IACI,kCAAkC;AACtC;;AAEA;IACI,uBAAuB;AAC3B",sourcesContent:[":root {\n    --thickness-boarders: 2px;\n    --color-boarders: rgb(46, 46, 183);\n}\n\n* {\n    padding: 0;\n    margin: 0;\n    outline: none;\n    box-sizing: border-box;\n}\n\nbody {\n    background-color: #E3F2FD;\n    height: 100vh;\n}\n\nheader {\n    width: 100%;\n    background-color: rgb(29, 25, 25);\n    color: white;\n    font-size: 10vh;\n    min-height: 12vh;\n    max-height: 12vh;\n    font-weight: 600;\n    display: flex;\n    justify-content: center; align-items: center;\n}\n\n.gameboard {\n    height: 100%;\n    width: 100%;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n}\n\n/*-------------------------------------------------------GRID*/\n/*-----------------------------------------------------------*/\n.outer-grid{\n    display: grid;\n    min-height: 450px;\n    min-width: 450px;\n    grid-template-columns: repeat(11,1fr);\n    grid-template-rows: repeat(11,1fr);\n    margin: 10%;\n}\n\n.grid-player {\n    display: grid;\n    grid-column: 2/-1;\n    grid-row: 2/-1;\n    grid-template-columns: repeat(10,1fr);\n    grid-template-rows: repeat(10,1fr);\n    border: 1.4px solid black;\n}\n\n.grid-unit {\n    border: 1px solid silver;\n}\n\n.coordinate-top{\n    display: grid;\n    grid-column: 2/-1;\n    grid-row: 1;\n    grid-template-columns: repeat(10,1fr);\n    text-align: center;\n    align-items: center;\n}\n\n.coordinate-left{\n    display: grid;\n    grid-column: 1;\n    grid-row: 2/-1;\n    grid-template-rows: repeat(10,1fr);\n    align-items: center; text-align: center;\n}\n\n.ship {\n    background-color: rgba(35, 35, 245, 0.55);\n}\n\n.empty{\n    background-color: rgb(223, 65, 65);\n}\n\n.hit{\n    background-color: rgb(70, 223, 65);\n}\n\n.sunk {\n    background-color: black;\n}\n"],sourceRoot:""}]);const c=i},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var r="",t=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),t&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=n(e),t&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(n,r,t,a,o){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(t)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var l=0;l<n.length;l++){var u=[].concat(n[l]);t&&i[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),e.push(u))}},e}},537:n=>{n.exports=function(n){var e=n[1],r=n[3];if(!r)return e;if("function"==typeof btoa){var t=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t),o="/*# ".concat(a," */"),i=r.sources.map((function(n){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(n," */")}));return[e].concat(i).concat([o]).join("\n")}return[e].join("\n")}},379:n=>{var e=[];function r(n){for(var r=-1,t=0;t<e.length;t++)if(e[t].identifier===n){r=t;break}return r}function t(n,t){for(var o={},i=[],c=0;c<n.length;c++){var s=n[c],l=t.base?s[0]+t.base:s[0],u=o[l]||0,A="".concat(l," ").concat(u);o[l]=u+1;var d=r(A),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==d)e[d].references++,e[d].updater(p);else{var f=a(p,t);t.byIndex=c,e.splice(c,0,{identifier:A,updater:f,references:1})}i.push(A)}return i}function a(n,e){var r=e.domAPI(e);return r.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;r.update(n=e)}else r.remove()}}n.exports=function(n,a){var o=t(n=n||[],a=a||{});return function(n){n=n||[];for(var i=0;i<o.length;i++){var c=r(o[i]);e[c].references--}for(var s=t(n,a),l=0;l<o.length;l++){var u=r(o[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}o=s}}},569:n=>{var e={};n.exports=function(n,r){var t=function(n){if(void 0===e[n]){var r=document.querySelector(n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(n){r=null}e[n]=r}return e[n]}(n);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(r)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,r)=>{n.exports=function(n){var e=r.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){var e=n.insertStyleElement(n);return{update:function(r){!function(n,e,r){var t="";r.supports&&(t+="@supports (".concat(r.supports,") {")),r.media&&(t+="@media ".concat(r.media," {"));var a=void 0!==r.layer;a&&(t+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),t+=r.css,a&&(t+="}"),r.media&&(t+="}"),r.supports&&(t+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(t,n,e.options)}(e,n,r)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function r(t){var a=e[t];if(void 0!==a)return a.exports;var o=e[t]={id:t,exports:{}};return n[t](o,o.exports,r),o.exports}r.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return r.d(e,{a:e}),e},r.d=(n,e)=>{for(var t in e)r.o(e,t)&&!r.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},r.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),r.nc=void 0,(()=>{var n=r(379),e=r.n(n),t=r(795),a=r.n(t),o=r(569),i=r.n(o),c=r(565),s=r.n(c),l=r(216),u=r.n(l),A=r(589),d=r.n(A),p=r(426),f={};function h(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var t,a,o=[],i=!0,c=!1;try{for(r=r.call(n);!(i=(t=r.next()).done)&&(o.push(t.value),!e||o.length!==e);i=!0);}catch(n){c=!0,a=n}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(n,e)||function(n,e){if(n){if("string"==typeof n)return m(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function g(n){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},g(n)}f.styleTagTransform=d(),f.setAttributes=s(),f.insert=i().bind(null,"head"),f.domAPI=a(),f.insertStyleElement=u(),e()(p.Z,f),p.Z&&p.Z.locals&&p.Z.locals;var y,b,C="no winner",v=(y=document.querySelectorAll(".player-2-grid"),{player1Plays:function(n){return y.forEach((function(e){return e.addEventListener("click",(function(e){"no winner"===C&&"player1"===x.currentTurn&&n.receiveAttack(e,"player1","player2")}))}))}}),I=function(n,e){return{hit:function(n,e,r){var t=r;return n.includes(e)&&(t-=1),t},isSunk:function(n,e){var r=e;return 0===n?["sunk",r-=1]:["no sunk",r]},currentHealth:e,coordinates:n}},B=(b=document,{showShips:function(n,e,r){for(var t=function(e){var t=r[e].coordinates,a=[];t.forEach((function(r){var t=b.querySelector(".".concat(n," .grid").concat(r));t.classList.add("ship"),t.dataset.shipNumber="".concat(e),a.push(t)}))},a=0;a<e;a+=1)t(a)},displayMiss:function(n){null!==n.getAttribute("data-ship-number")||n.className.includes("empty")||n.className.includes("hit")||n.classList.add("empty")},displayHit:function(n){null===n.getAttribute("data-ship-number")||n.className.includes("hit")||n.classList.add("hit")}}),k=function(){var n=[];function e(n){return 5===n.classList[0].length?n.classList[0].substr(-1):n.classList[0].substr(-2)}function r(n){return null!==n.getAttribute("data-ship-number")?parseInt(n.getAttribute("data-ship-number"),10):"no ship has been attacked"}function t(n){var e,r,t=Math.floor(2*Math.random());1===t?(r=Math.floor(10*Math.random()),e=Math.floor(Math.random()*(10-(n+1)))):(r=Math.floor(Math.random()*(10-(n+1))),e=Math.floor(10*Math.random()));for(var a=[],o=0;o<n;o+=1)1===t?a.push(parseInt("".concat(r).concat(e+o),10)):a.push(parseInt("".concat(r+o).concat(e),10));return a}function a(e,r){for(var t=0;t<=r;t+=1)for(var a=n[t],o=0;o<e.length;o+=1)if(a.coordinates.indexOf(e[o])>=0)return!0;return!1}return{generateShips:function(){for(var e,r=0;r<10;r+=1){var o=void 0;r<3&&(o=3),r>=3&&r<7&&(o=2),r>=7&&r<=9&&(o=1);var i=I([],o);n.push(i);do{e=t(o)}while(a(e,r));n[r].coordinates=e}},ships:n,receiveAttack:function(n,t,a){var o,i="no ship has been attacked";if("object"===g(n))o=e(n.target),i=r(n.target),x.setNextTurn(n.target,t,a,o,i);else{var c=document.querySelector(".player1 .grid".concat(n));o=e(c),i=r(c),x.setNextTurn(c,t,a,o,i)}},noShipsAvailable:function(n,e){return 0===e?n:"no winner"},numberOfShips:10}},w=function(){return{attack:function(n,e){return"player2"===n&&v.player1Plays(e),parseInt((r=Math.floor(10*Math.random()),t=Math.floor(10*Math.random()),"".concat(r).concat(t)),10);var r,t}}},x=function(){var n="player1",e=0,r=k(),t=k();r.generateShips(),t.generateShips(),B.showShips("player1",10,r.ships),B.showShips("player2",10,t.ships);var a=w(),o=w();a.attack("player2",t);var i,c=Date.now();return function e(){if(i=Date.now(),"no winner"===C){if(i-c>1e3/60){if("player2"===n){var t=o.attack("player1");r.receiveAttack(t,"player2","player1")}c=i}window.requestAnimationFrame(e)}}(),{currentTurn:n,setNextTurn:function(a,o,i,c,s){if(a.className.includes("empty")||a.className.includes("hit"))n=o;else if(!a.className.includes("empty")&&!a.className.includes("hit"))if(B.displayMiss(a),B.displayHit(a),a.className.includes("hit")){if("player1"===n){e=t.ships[s];var l,u=parseInt(c,10);e.currentHealth=e.hit(e.coordinates,u,e.currentHealth);var A=h(e.isSunk(e.currentHealth,t.numberOfShips),2);l=A[0],t.numberOfShips=A[1],"sunk"===l&&e.coordinates.forEach((function(n){document.querySelector(".player2 .grid".concat(n)).classList.add("sunk"),C=t.noShipsAvailable("player1",t.numberOfShips)}))}else if("player2"===n){e=r.ships[s];var d,p=parseInt(c,10);e.currentHealth=e.hit(e.coordinates,p,e.currentHealth);var f=h(e.isSunk(e.currentHealth,r.numberOfShips),2);d=f[0],r.numberOfShips=f[1],"sunk"===d&&e.coordinates.forEach((function(n){document.querySelector(".player1 .grid".concat(n)).classList.add("sunk"),C=r.noShipsAvailable("player2",r.numberOfShips)}))}n=o}else n=i},winner:C}}()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMzQmhDLEVBQVN1RSxFQUFpQlAsaUJBQWlCLFVBQVdPLEVBQWlCbEQsa0JBSTdFWixFQUFjaUQsT0FDUGpELEVBQWNrRCxHQXdCUTNELE9BQUFBLEdBaEduQixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3N0eWxlLmNzcz83MTYzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCI6cm9vdCB7XFxuICAgIC0tdGhpY2tuZXNzLWJvYXJkZXJzOiAycHg7XFxuICAgIC0tY29sb3ItYm9hcmRlcnM6IHJnYig0NiwgNDYsIDE4Myk7XFxufVxcblxcbioge1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICBtYXJnaW46IDA7XFxuICAgIG91dGxpbmU6IG5vbmU7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcbmJvZHkge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRTNGMkZEO1xcbiAgICBoZWlnaHQ6IDEwMHZoO1xcbn1cXG5cXG5oZWFkZXIge1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI5LCAyNSwgMjUpO1xcbiAgICBjb2xvcjogd2hpdGU7XFxuICAgIGZvbnQtc2l6ZTogMTB2aDtcXG4gICAgbWluLWhlaWdodDogMTJ2aDtcXG4gICAgbWF4LWhlaWdodDogMTJ2aDtcXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5nYW1lYm9hcmQge1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tR1JJRCovXFxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXFxuLm91dGVyLWdyaWR7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIG1pbi1oZWlnaHQ6IDQ1MHB4O1xcbiAgICBtaW4td2lkdGg6IDQ1MHB4O1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMSwxZnIpO1xcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMSwxZnIpO1xcbiAgICBtYXJnaW46IDEwJTtcXG59XFxuXFxuLmdyaWQtcGxheWVyIHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC1jb2x1bW46IDIvLTE7XFxuICAgIGdyaWQtcm93OiAyLy0xO1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwxZnIpO1xcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwxZnIpO1xcbiAgICBib3JkZXI6IDEuNHB4IHNvbGlkIGJsYWNrO1xcbn1cXG5cXG4uZ3JpZC11bml0IHtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgc2lsdmVyO1xcbn1cXG5cXG4uY29vcmRpbmF0ZS10b3B7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtY29sdW1uOiAyLy0xO1xcbiAgICBncmlkLXJvdzogMTtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMTAsMWZyKTtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5cXG4uY29vcmRpbmF0ZS1sZWZ0e1xcbiAgICBkaXNwbGF5OiBncmlkO1xcbiAgICBncmlkLWNvbHVtbjogMTtcXG4gICAgZ3JpZC1yb3c6IDIvLTE7XFxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDEwLDFmcik7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7IHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuLnNoaXAge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDM1LCAzNSwgMjQ1LCAwLjU1KTtcXG59XFxuXFxuLmVtcHR5e1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjIzLCA2NSwgNjUpO1xcbn1cXG5cXG4uaGl0e1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoNzAsIDIyMywgNjUpO1xcbn1cXG5cXG4uc3VuayB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0kseUJBQXlCO0lBQ3pCLGtDQUFrQztBQUN0Qzs7QUFFQTtJQUNJLFVBQVU7SUFDVixTQUFTO0lBQ1QsYUFBYTtJQUNiLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksV0FBVztJQUNYLGlDQUFpQztJQUNqQyxZQUFZO0lBQ1osZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixnQkFBZ0I7SUFDaEIsZ0JBQWdCO0lBQ2hCLGFBQWE7SUFDYix1QkFBdUIsRUFBRSxtQkFBbUI7QUFDaEQ7O0FBRUE7SUFDSSxZQUFZO0lBQ1osV0FBVztJQUNYLGFBQWE7SUFDYiw2QkFBNkI7SUFDN0IsbUJBQW1CO0FBQ3ZCOztBQUVBLDhEQUE4RDtBQUM5RCw4REFBOEQ7QUFDOUQ7SUFDSSxhQUFhO0lBQ2IsaUJBQWlCO0lBQ2pCLGdCQUFnQjtJQUNoQixxQ0FBcUM7SUFDckMsa0NBQWtDO0lBQ2xDLFdBQVc7QUFDZjs7QUFFQTtJQUNJLGFBQWE7SUFDYixpQkFBaUI7SUFDakIsY0FBYztJQUNkLHFDQUFxQztJQUNyQyxrQ0FBa0M7SUFDbEMseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksd0JBQXdCO0FBQzVCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLGlCQUFpQjtJQUNqQixXQUFXO0lBQ1gscUNBQXFDO0lBQ3JDLGtCQUFrQjtJQUNsQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsY0FBYztJQUNkLGNBQWM7SUFDZCxrQ0FBa0M7SUFDbEMsbUJBQW1CLEVBQUUsa0JBQWtCO0FBQzNDOztBQUVBO0lBQ0kseUNBQXlDO0FBQzdDOztBQUVBO0lBQ0ksa0NBQWtDO0FBQ3RDOztBQUVBO0lBQ0ksa0NBQWtDO0FBQ3RDOztBQUVBO0lBQ0ksdUJBQXVCO0FBQzNCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjpyb290IHtcXG4gICAgLS10aGlja25lc3MtYm9hcmRlcnM6IDJweDtcXG4gICAgLS1jb2xvci1ib2FyZGVyczogcmdiKDQ2LCA0NiwgMTgzKTtcXG59XFxuXFxuKiB7XFxuICAgIHBhZGRpbmc6IDA7XFxuICAgIG1hcmdpbjogMDtcXG4gICAgb3V0bGluZTogbm9uZTtcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxuYm9keSB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNFM0YyRkQ7XFxuICAgIGhlaWdodDogMTAwdmg7XFxufVxcblxcbmhlYWRlciB7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjksIDI1LCAyNSk7XFxuICAgIGNvbG9yOiB3aGl0ZTtcXG4gICAgZm9udC1zaXplOiAxMHZoO1xcbiAgICBtaW4taGVpZ2h0OiAxMnZoO1xcbiAgICBtYXgtaGVpZ2h0OiAxMnZoO1xcbiAgICBmb250LXdlaWdodDogNjAwO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLmdhbWVib2FyZCB7XFxuICAgIGhlaWdodDogMTAwJTtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5cXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1HUklEKi9cXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cXG4ub3V0ZXItZ3JpZHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgbWluLWhlaWdodDogNDUwcHg7XFxuICAgIG1pbi13aWR0aDogNDUwcHg7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDExLDFmcik7XFxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDExLDFmcik7XFxuICAgIG1hcmdpbjogMTAlO1xcbn1cXG5cXG4uZ3JpZC1wbGF5ZXIge1xcbiAgICBkaXNwbGF5OiBncmlkO1xcbiAgICBncmlkLWNvbHVtbjogMi8tMTtcXG4gICAgZ3JpZC1yb3c6IDIvLTE7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLDFmcik7XFxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDEwLDFmcik7XFxuICAgIGJvcmRlcjogMS40cHggc29saWQgYmxhY2s7XFxufVxcblxcbi5ncmlkLXVuaXQge1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCBzaWx2ZXI7XFxufVxcblxcbi5jb29yZGluYXRlLXRvcHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgZ3JpZC1jb2x1bW46IDIvLTE7XFxuICAgIGdyaWQtcm93OiAxO1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwxZnIpO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5jb29yZGluYXRlLWxlZnR7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtY29sdW1uOiAxO1xcbiAgICBncmlkLXJvdzogMi8tMTtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMTAsMWZyKTtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjsgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4uc2hpcCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMzUsIDM1LCAyNDUsIDAuNTUpO1xcbn1cXG5cXG4uZW1wdHl7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyMjMsIDY1LCA2NSk7XFxufVxcblxcbi5oaXR7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYig3MCwgMjIzLCA2NSk7XFxufVxcblxcbi5zdW5rIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cblxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuXG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCBcIlwiKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcblxuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdXBkYXRlcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cblxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcblxuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cblxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuXG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cblxuICBjc3MgKz0gb2JqLmNzcztcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiaW1wb3J0IFwiLi9zdHlsZS5jc3NcIjtcblxubGV0IHdpbm5lciA9IFwibm8gd2lubmVyXCI7XG5cbmNvbnN0IERPTSA9ICgoZG9jKSA9PiB7XG4gIGNvbnN0IGdyaWRzUGxheWVyMiA9IGRvYy5xdWVyeVNlbGVjdG9yQWxsKFwiLnBsYXllci0yLWdyaWRcIik7XG4gIGNvbnN0IHBsYXllcjFQbGF5cyA9IChnYW1lYm9hcmRQbGF5ZXIyKSA9PiBncmlkc1BsYXllcjIuZm9yRWFjaCgoZ3JpZCkgPT4gZ3JpZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICBpZiAod2lubmVyID09PSBcIm5vIHdpbm5lclwiKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIGlmIChnYW1lRmxvdy5jdXJyZW50VHVybiA9PT0gXCJwbGF5ZXIxXCIpIHtcbiAgICAgICAgZ2FtZWJvYXJkUGxheWVyMi5yZWNlaXZlQXR0YWNrKGUsIFwicGxheWVyMVwiLCBcInBsYXllcjJcIik7XG4gICAgICB9XG4gICAgfVxuICB9KSk7XG4gIHJldHVybiB7IHBsYXllcjFQbGF5cyB9O1xufSkoZG9jdW1lbnQpO1xuXG5jb25zdCBzaGlwRmFjdG9yeSA9IChjb29yZGluYXRlcywgbGVuZ3RoU2hpcCkgPT4ge1xuICBjb25zdCBjdXJyZW50SGVhbHRoID0gbGVuZ3RoU2hpcDtcbiAgY29uc3QgaGl0ID0gKHNoaXBDb29yZGluYXRlcywgY29vcmRpbmF0ZSwgaGVhbHRoKSA9PiB7XG4gICAgbGV0IHNoaXBzSGVhbHRoID0gaGVhbHRoO1xuICAgIGlmIChzaGlwQ29vcmRpbmF0ZXMuaW5jbHVkZXMoY29vcmRpbmF0ZSkpIHtcbiAgICAgIHNoaXBzSGVhbHRoIC09IDE7XG4gICAgfVxuICAgIHJldHVybiBzaGlwc0hlYWx0aDtcbiAgfTtcbiAgY29uc3QgaXNTdW5rID0gKGhlYWx0aCwgbnVtYmVyT2ZTaGlwcykgPT4ge1xuICAgIGxldCBzaGlwc0F2YWlsYWJsZSA9IG51bWJlck9mU2hpcHM7XG4gICAgaWYgKGhlYWx0aCA9PT0gMCkge1xuICAgICAgc2hpcHNBdmFpbGFibGUgLT0gMTtcbiAgICAgIHJldHVybiBbXCJzdW5rXCIsIHNoaXBzQXZhaWxhYmxlXTtcbiAgICB9XG4gICAgcmV0dXJuIFtcIm5vIHN1bmtcIiwgc2hpcHNBdmFpbGFibGVdO1xuICB9O1xuICByZXR1cm4ge1xuICAgIGhpdCxcbiAgICBpc1N1bmssXG4gICAgY3VycmVudEhlYWx0aCxcbiAgICBjb29yZGluYXRlcyxcbiAgfTtcbn07XG5cbmNvbnN0IHZpZXcgPSAoKGRvYykgPT4ge1xuICBjb25zdCBzaG93U2hpcHMgPSAocGxheWVyLCBudW1iZXJPZlNoaXBzLCBzaGlwcykgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZTaGlwczsgaSArPSAxKSB7XG4gICAgICBjb25zdCBjdXJyZW50Q29vcmRpbmF0ZXMgPSBzaGlwc1tpXS5jb29yZGluYXRlcztcbiAgICAgIGNvbnN0IGN1cnJlbnRHcmlkcyA9IFtdO1xuICAgICAgY3VycmVudENvb3JkaW5hdGVzLmZvckVhY2goKGdyaWQpID0+IHtcbiAgICAgICAgY29uc3QgY2xhc3NOYW1lID0gZG9jLnF1ZXJ5U2VsZWN0b3IoYC4ke3BsYXllcn0gLmdyaWQke2dyaWR9YCk7XG4gICAgICAgIGNsYXNzTmFtZS5jbGFzc0xpc3QuYWRkKFwic2hpcFwiKTtcbiAgICAgICAgY2xhc3NOYW1lLmRhdGFzZXQuc2hpcE51bWJlciA9IGAke2l9YDtcbiAgICAgICAgY3VycmVudEdyaWRzLnB1c2goY2xhc3NOYW1lKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkaXNwbGF5TWlzcyA9IChncmlkKSA9PiB7XG4gICAgaWYgKGdyaWQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zaGlwLW51bWJlclwiKSA9PT0gbnVsbCAmJiAhKGdyaWQuY2xhc3NOYW1lLmluY2x1ZGVzKFwiZW1wdHlcIikpXG4gICAgJiYgIShncmlkLmNsYXNzTmFtZS5pbmNsdWRlcyhcImhpdFwiKSkpIHtcbiAgICAgIGdyaWQuY2xhc3NMaXN0LmFkZChcImVtcHR5XCIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkaXNwbGF5SGl0ID0gKGdyaWQpID0+IHtcbiAgICBpZiAoIShncmlkLmdldEF0dHJpYnV0ZShcImRhdGEtc2hpcC1udW1iZXJcIikgPT09IG51bGwpICYmICEoZ3JpZC5jbGFzc05hbWUuaW5jbHVkZXMoXCJoaXRcIikpKSB7XG4gICAgICBncmlkLmNsYXNzTGlzdC5hZGQoXCJoaXRcIik7XG4gICAgfVxuICB9O1xuICByZXR1cm4geyBzaG93U2hpcHMsIGRpc3BsYXlNaXNzLCBkaXNwbGF5SGl0IH07XG59KShkb2N1bWVudCk7XG5cbmNvbnN0IGdhbWVib2FyZEZhY3RvcnkgPSAoKSA9PiB7XG4gIGNvbnN0IGJvYXJkc2l6ZSA9IDEwO1xuICBjb25zdCBudW1iZXJPZlNoaXBzID0gMTA7XG4gIGNvbnN0IHNoaXBzID0gW107XG5cbiAgZnVuY3Rpb24gZXh0cmFjdEdyaWROdW1iZXIoZ3JpZCkge1xuICAgIGlmIChncmlkLmNsYXNzTGlzdFswXS5sZW5ndGggPT09IDUpIHtcbiAgICAgIHJldHVybiBncmlkLmNsYXNzTGlzdFswXS5zdWJzdHIoLTEpO1xuICAgIH1cbiAgICByZXR1cm4gZ3JpZC5jbGFzc0xpc3RbMF0uc3Vic3RyKC0yKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNoaXBBdHRhY2tlZChncmlkKSB7XG4gICAgaWYgKGdyaWQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zaGlwLW51bWJlclwiKSAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHBhcnNlSW50KGdyaWQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zaGlwLW51bWJlclwiKSwgMTApO1xuICAgIH1cbiAgICByZXR1cm4gXCJubyBzaGlwIGhhcyBiZWVuIGF0dGFja2VkXCI7XG4gIH1cblxuICBmdW5jdGlvbiBnZW5lcmF0ZVNoaXBMb2NhdGlvbnMobGVuZ3RoU2hpcCkge1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpO1xuICAgIGxldCBjb2w7XG4gICAgbGV0IHJvdztcbiAgICBpZiAoZGlyZWN0aW9uID09PSAxKSB7XG4gICAgICByb3cgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBib2FyZHNpemUpO1xuICAgICAgY29sID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGJvYXJkc2l6ZSAtIChsZW5ndGhTaGlwICsgMSkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcm93ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGJvYXJkc2l6ZSAtIChsZW5ndGhTaGlwICsgMSkpKTtcbiAgICAgIGNvbCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGJvYXJkc2l6ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgbmV3U2hpcExvY2F0aW9ucyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoU2hpcDsgaSArPSAxKSB7XG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAxKSB7XG4gICAgICAgIG5ld1NoaXBMb2NhdGlvbnMucHVzaChwYXJzZUludChgJHtyb3d9JHtjb2wgKyBpfWAsIDEwKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdTaGlwTG9jYXRpb25zLnB1c2gocGFyc2VJbnQoYCR7cm93ICsgaX0ke2NvbH1gLCAxMCkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3U2hpcExvY2F0aW9ucztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbGxpc2lvbihsb2NhdGlvbnMsIGN1cnJlbnROdW1iZXJPZlNoaXBzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gY3VycmVudE51bWJlck9mU2hpcHM7IGkgKz0gMSkge1xuICAgICAgY29uc3Qgc2hpcCA9IHNoaXBzW2ldO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsb2NhdGlvbnMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgaWYgKHNoaXAuY29vcmRpbmF0ZXMuaW5kZXhPZihsb2NhdGlvbnNbal0pID49IDApIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBnZW5lcmF0ZVNoaXBzID0gKCkgPT4ge1xuICAgIGxldCBsb2NhdGlvbnM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXJPZlNoaXBzOyBpICs9IDEpIHtcbiAgICAgIGxldCBsZW5ndGhTaGlwO1xuICAgICAgaWYgKGkgPCAzKSBsZW5ndGhTaGlwID0gMztcbiAgICAgIGlmIChpID49IDMgJiYgaSA8IDcpIGxlbmd0aFNoaXAgPSAyO1xuICAgICAgaWYgKGkgPj0gNyAmJiBpIDw9IDkpIGxlbmd0aFNoaXAgPSAxO1xuICAgICAgY29uc3Qgc2hpcCA9IHNoaXBGYWN0b3J5KFtdLCBsZW5ndGhTaGlwKTtcbiAgICAgIHNoaXBzLnB1c2goc2hpcCk7XG4gICAgICBkbyB7XG4gICAgICAgIGxvY2F0aW9ucyA9IGdlbmVyYXRlU2hpcExvY2F0aW9ucyhsZW5ndGhTaGlwKTtcbiAgICAgIH0gd2hpbGUgKGNvbGxpc2lvbihsb2NhdGlvbnMsIGkpKTtcbiAgICAgIHNoaXBzW2ldLmNvb3JkaW5hdGVzID0gbG9jYXRpb25zO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCByZWNlaXZlQXR0YWNrID0gKGUsIGN1cnJlbnRQbGF5ZXIsIG5leHRQbGF5ZXIpID0+IHtcbiAgICBsZXQgYXR0YWNrZWRDb29yZGluYXRlcztcbiAgICBsZXQgc2hpcEF0dGFja2VkID0gXCJubyBzaGlwIGhhcyBiZWVuIGF0dGFja2VkXCI7XG4gICAgaWYgKHR5cGVvZiBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBhdHRhY2tlZENvb3JkaW5hdGVzID0gZXh0cmFjdEdyaWROdW1iZXIoZS50YXJnZXQpO1xuICAgICAgc2hpcEF0dGFja2VkID0gZ2V0U2hpcEF0dGFja2VkKGUudGFyZ2V0KTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgZ2FtZUZsb3cuc2V0TmV4dFR1cm4oZS50YXJnZXQsIGN1cnJlbnRQbGF5ZXIsIG5leHRQbGF5ZXIsIGF0dGFja2VkQ29vcmRpbmF0ZXMsIHNoaXBBdHRhY2tlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1hY2hpbmVTZWxlY3RlZEdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAucGxheWVyMSAuZ3JpZCR7ZX1gKTtcbiAgICAgIGF0dGFja2VkQ29vcmRpbmF0ZXMgPSBleHRyYWN0R3JpZE51bWJlcihtYWNoaW5lU2VsZWN0ZWRHcmlkKTtcbiAgICAgIHNoaXBBdHRhY2tlZCA9IGdldFNoaXBBdHRhY2tlZChtYWNoaW5lU2VsZWN0ZWRHcmlkKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgZ2FtZUZsb3cuc2V0TmV4dFR1cm4oXG4gICAgICAgIG1hY2hpbmVTZWxlY3RlZEdyaWQsXG4gICAgICAgIGN1cnJlbnRQbGF5ZXIsXG4gICAgICAgIG5leHRQbGF5ZXIsXG4gICAgICAgIGF0dGFja2VkQ29vcmRpbmF0ZXMsXG4gICAgICAgIHNoaXBBdHRhY2tlZCxcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG5vU2hpcHNBdmFpbGFibGUgPSAodGhlV2lubmVyLCByZW1haW5pbmdTaGlwcykgPT4ge1xuICAgIGlmIChyZW1haW5pbmdTaGlwcyA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoZVdpbm5lcjtcbiAgICB9XG4gICAgcmV0dXJuIFwibm8gd2lubmVyXCI7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBnZW5lcmF0ZVNoaXBzLCBzaGlwcywgcmVjZWl2ZUF0dGFjaywgbm9TaGlwc0F2YWlsYWJsZSwgbnVtYmVyT2ZTaGlwcyxcbiAgfTtcbn07XG5cbmNvbnN0IHBsYXllckZhY3RvcnkgPSAoKSA9PiB7XG4gIGZ1bmN0aW9uIGNvbXB1dGVyQ2hvaWNlKCkge1xuICAgIGNvbnN0IGJvYXJkc2l6ZSA9IDEwO1xuICAgIGNvbnN0IHJvdyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGJvYXJkc2l6ZSk7XG4gICAgY29uc3QgY29sID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYm9hcmRzaXplKTtcbiAgICByZXR1cm4gYCR7cm93fSR7Y29sfWA7XG4gIH1cbiAgLyogU2UgY29sb2NhIHRhYmxlcm8gMiB5YSBxdWUgZWwganVnYWRvciBzaWd1ZSB1biBwcm9jZXNvIGRpZmVyZW50ZSBhbCBkZSBsYSBtYXF1aW5hICovXG4gIGNvbnN0IGF0dGFjayA9IChwbGF5ZXJBdHRhY2tlZCwgZ2FtZWJvYXJkUGxheWVyMikgPT4ge1xuICAgIGlmIChwbGF5ZXJBdHRhY2tlZCA9PT0gXCJwbGF5ZXIyXCIpIHtcbiAgICAgIERPTS5wbGF5ZXIxUGxheXMoZ2FtZWJvYXJkUGxheWVyMik7XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUludChjb21wdXRlckNob2ljZSgpLCAxMCk7XG4gIH07XG4gIHJldHVybiB7IGF0dGFjayB9O1xufTtcblxuY29uc3QgZ2FtZUZsb3cgPSAoKCkgPT4ge1xuICBsZXQgY3VycmVudFR1cm4gPSBcInBsYXllcjFcIjtcbiAgbGV0IHNoaXBIaXQgPSAwO1xuXG4gIGNvbnN0IGdhbWVib2FyZFBsYXllcjEgPSBnYW1lYm9hcmRGYWN0b3J5KCk7XG4gIGNvbnN0IGdhbWVib2FyZFBsYXllcjIgPSBnYW1lYm9hcmRGYWN0b3J5KCk7XG5cbiAgZ2FtZWJvYXJkUGxheWVyMS5nZW5lcmF0ZVNoaXBzKCk7XG4gIGdhbWVib2FyZFBsYXllcjIuZ2VuZXJhdGVTaGlwcygpO1xuXG4gIHZpZXcuc2hvd1NoaXBzKFwicGxheWVyMVwiLCAxMCwgZ2FtZWJvYXJkUGxheWVyMS5zaGlwcyk7XG4gIHZpZXcuc2hvd1NoaXBzKFwicGxheWVyMlwiLCAxMCwgZ2FtZWJvYXJkUGxheWVyMi5zaGlwcyk7XG5cbiAgY29uc3QgcGxheWVyMSA9IHBsYXllckZhY3RvcnkoKTtcbiAgY29uc3QgcGxheWVyMiA9IHBsYXllckZhY3RvcnkoKTtcbiAgcGxheWVyMS5hdHRhY2soXCJwbGF5ZXIyXCIsIGdhbWVib2FyZFBsYXllcjIpO1xuXG4gIGNvbnN0IHNldE5leHRUdXJuID0gKGdyaWQsIGN1cnJlbnRQbGF5ZXIsIG5leHRQbGF5ZXIsIGF0dGFja2VkQ29vcmRpbmF0ZXMsIHNoaXBBdHRhY2tlZCkgPT4ge1xuICAgIGlmIChncmlkLmNsYXNzTmFtZS5pbmNsdWRlcyhcImVtcHR5XCIpIHx8IGdyaWQuY2xhc3NOYW1lLmluY2x1ZGVzKFwiaGl0XCIpKSB7XG4gICAgICBjdXJyZW50VHVybiA9IGN1cnJlbnRQbGF5ZXI7XG4gICAgfSBlbHNlIGlmICghKGdyaWQuY2xhc3NOYW1lLmluY2x1ZGVzKFwiZW1wdHlcIikpICYmICEoZ3JpZC5jbGFzc05hbWUuaW5jbHVkZXMoXCJoaXRcIikpKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIHZpZXcuZGlzcGxheU1pc3MoZ3JpZCk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIHZpZXcuZGlzcGxheUhpdChncmlkKTtcbiAgICAgIC8qIExsYW1hciBhIGhpdCBlIGlzU3VuayBkZWwgcmVzcGVjdGl2byBiYXJjbyAqL1xuICAgICAgaWYgKGdyaWQuY2xhc3NOYW1lLmluY2x1ZGVzKFwiaGl0XCIpKSB7XG4gICAgICAgIGlmIChjdXJyZW50VHVybiA9PT0gXCJwbGF5ZXIxXCIpIHtcbiAgICAgICAgICBzaGlwSGl0ID0gZ2FtZWJvYXJkUGxheWVyMi5zaGlwc1tzaGlwQXR0YWNrZWRdO1xuICAgICAgICAgIGNvbnN0IGF0dGFja0Nvb3JkaW5hdGVzID0gcGFyc2VJbnQoYXR0YWNrZWRDb29yZGluYXRlcywgMTApO1xuXG4gICAgICAgICAgc2hpcEhpdC5jdXJyZW50SGVhbHRoID0gc2hpcEhpdC5oaXQoXG4gICAgICAgICAgICBzaGlwSGl0LmNvb3JkaW5hdGVzLFxuICAgICAgICAgICAgYXR0YWNrQ29vcmRpbmF0ZXMsXG4gICAgICAgICAgICBzaGlwSGl0LmN1cnJlbnRIZWFsdGgsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgc3Vua09yTm90U3VuaztcbiAgICAgICAgICBbc3Vua09yTm90U3VuaywgZ2FtZWJvYXJkUGxheWVyMi5udW1iZXJPZlNoaXBzXSA9IHNoaXBIaXQuaXNTdW5rKFxuICAgICAgICAgICAgc2hpcEhpdC5jdXJyZW50SGVhbHRoLFxuICAgICAgICAgICAgZ2FtZWJvYXJkUGxheWVyMi5udW1iZXJPZlNoaXBzLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBpZiAoc3Vua09yTm90U3VuayA9PT0gXCJzdW5rXCIpIHtcbiAgICAgICAgICAgIHNoaXBIaXQuY29vcmRpbmF0ZXMuZm9yRWFjaCgoc2hpcFN1bmspID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgZ3JpZEF0dGFja2VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnBsYXllcjIgLmdyaWQke3NoaXBTdW5rfWApO1xuICAgICAgICAgICAgICBncmlkQXR0YWNrZWQuY2xhc3NMaXN0LmFkZChcInN1bmtcIik7XG4gICAgICAgICAgICAgIHdpbm5lciA9IGdhbWVib2FyZFBsYXllcjIubm9TaGlwc0F2YWlsYWJsZShcInBsYXllcjFcIiwgZ2FtZWJvYXJkUGxheWVyMi5udW1iZXJPZlNoaXBzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50VHVybiA9PT0gXCJwbGF5ZXIyXCIpIHtcbiAgICAgICAgICBzaGlwSGl0ID0gZ2FtZWJvYXJkUGxheWVyMS5zaGlwc1tzaGlwQXR0YWNrZWRdO1xuICAgICAgICAgIGNvbnN0IGF0dGFja0Nvb3JkaW5hdGVzID0gcGFyc2VJbnQoYXR0YWNrZWRDb29yZGluYXRlcywgMTApO1xuXG4gICAgICAgICAgc2hpcEhpdC5jdXJyZW50SGVhbHRoID0gc2hpcEhpdC5oaXQoXG4gICAgICAgICAgICBzaGlwSGl0LmNvb3JkaW5hdGVzLFxuICAgICAgICAgICAgYXR0YWNrQ29vcmRpbmF0ZXMsXG4gICAgICAgICAgICBzaGlwSGl0LmN1cnJlbnRIZWFsdGgsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgc3Vua09yTm90U3VuaztcbiAgICAgICAgICBbc3Vua09yTm90U3VuaywgZ2FtZWJvYXJkUGxheWVyMS5udW1iZXJPZlNoaXBzXSA9IHNoaXBIaXQuaXNTdW5rKFxuICAgICAgICAgICAgc2hpcEhpdC5jdXJyZW50SGVhbHRoLFxuICAgICAgICAgICAgZ2FtZWJvYXJkUGxheWVyMS5udW1iZXJPZlNoaXBzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHN1bmtPck5vdFN1bmsgPT09IFwic3Vua1wiKSB7XG4gICAgICAgICAgICBzaGlwSGl0LmNvb3JkaW5hdGVzLmZvckVhY2goKHNoaXBTdW5rKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGdyaWRBdHRhY2tlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5wbGF5ZXIxIC5ncmlkJHtzaGlwU3Vua31gKTtcbiAgICAgICAgICAgICAgZ3JpZEF0dGFja2VkLmNsYXNzTGlzdC5hZGQoXCJzdW5rXCIpO1xuICAgICAgICAgICAgICB3aW5uZXIgPSBnYW1lYm9hcmRQbGF5ZXIxLm5vU2hpcHNBdmFpbGFibGUoXCJwbGF5ZXIyXCIsIGdhbWVib2FyZFBsYXllcjEubnVtYmVyT2ZTaGlwcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudFR1cm4gPSBjdXJyZW50UGxheWVyO1xuICAgICAgfSBlbHNlIHsgY3VycmVudFR1cm4gPSBuZXh0UGxheWVyOyB9XG4gICAgfVxuICB9O1xuXG4gIGxldCB0aGVuID0gRGF0ZS5ub3coKTtcbiAgbGV0IG5vdztcblxuICBmdW5jdGlvbiBnYW1lTG9vcCgpIHtcbiAgICBub3cgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGRpZmZlcmVuY2UgPSBub3cgLSB0aGVuO1xuICAgIGlmICh3aW5uZXIgPT09IFwibm8gd2lubmVyXCIpIHtcbiAgICAgIGlmIChkaWZmZXJlbmNlID4gMTAwMCAvIDYwKSB7XG4gICAgICAgIGlmIChjdXJyZW50VHVybiA9PT0gXCJwbGF5ZXIyXCIpIHtcbiAgICAgICAgICBjb25zdCBjb21wdXRlckNob2ljZSA9IHBsYXllcjIuYXR0YWNrKFwicGxheWVyMVwiKTtcbiAgICAgICAgICBnYW1lYm9hcmRQbGF5ZXIxLnJlY2VpdmVBdHRhY2soY29tcHV0ZXJDaG9pY2UsIFwicGxheWVyMlwiLCBcInBsYXllcjFcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhlbiA9IG5vdztcbiAgICAgIH1cbiAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApO1xuICAgIH1cbiAgfVxuXG4gIGdhbWVMb29wKCk7XG5cbiAgcmV0dXJuIHsgY3VycmVudFR1cm4sIHNldE5leHRUdXJuLCB3aW5uZXIgfTtcbn0pKCk7XG4iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290Iiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm5jIiwiZ3JpZHNQbGF5ZXIyIiwiZG9jIiwid2lubmVyIiwiRE9NIiwicXVlcnlTZWxlY3RvckFsbCIsInBsYXllcjFQbGF5cyIsImdhbWVib2FyZFBsYXllcjIiLCJmb3JFYWNoIiwiZ3JpZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJnYW1lRmxvdyIsImN1cnJlbnRUdXJuIiwicmVjZWl2ZUF0dGFjayIsInNoaXBGYWN0b3J5IiwiY29vcmRpbmF0ZXMiLCJsZW5ndGhTaGlwIiwiaGl0Iiwic2hpcENvb3JkaW5hdGVzIiwiY29vcmRpbmF0ZSIsImhlYWx0aCIsInNoaXBzSGVhbHRoIiwiaW5jbHVkZXMiLCJpc1N1bmsiLCJudW1iZXJPZlNoaXBzIiwic2hpcHNBdmFpbGFibGUiLCJjdXJyZW50SGVhbHRoIiwidmlldyIsInNob3dTaGlwcyIsInBsYXllciIsInNoaXBzIiwiY3VycmVudENvb3JkaW5hdGVzIiwiY3VycmVudEdyaWRzIiwiY2xhc3NOYW1lIiwiY2xhc3NMaXN0IiwiYWRkIiwiZGF0YXNldCIsInNoaXBOdW1iZXIiLCJkaXNwbGF5TWlzcyIsImdldEF0dHJpYnV0ZSIsImRpc3BsYXlIaXQiLCJnYW1lYm9hcmRGYWN0b3J5IiwiZXh0cmFjdEdyaWROdW1iZXIiLCJzdWJzdHIiLCJnZXRTaGlwQXR0YWNrZWQiLCJwYXJzZUludCIsImdlbmVyYXRlU2hpcExvY2F0aW9ucyIsImNvbCIsInJvdyIsImRpcmVjdGlvbiIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIm5ld1NoaXBMb2NhdGlvbnMiLCJjb2xsaXNpb24iLCJsb2NhdGlvbnMiLCJjdXJyZW50TnVtYmVyT2ZTaGlwcyIsInNoaXAiLCJqIiwiaW5kZXhPZiIsImdlbmVyYXRlU2hpcHMiLCJjdXJyZW50UGxheWVyIiwibmV4dFBsYXllciIsImF0dGFja2VkQ29vcmRpbmF0ZXMiLCJzaGlwQXR0YWNrZWQiLCJzZXROZXh0VHVybiIsIm1hY2hpbmVTZWxlY3RlZEdyaWQiLCJub1NoaXBzQXZhaWxhYmxlIiwidGhlV2lubmVyIiwicmVtYWluaW5nU2hpcHMiLCJwbGF5ZXJGYWN0b3J5IiwiYXR0YWNrIiwicGxheWVyQXR0YWNrZWQiLCJzaGlwSGl0IiwiZ2FtZWJvYXJkUGxheWVyMSIsInBsYXllcjEiLCJwbGF5ZXIyIiwibm93IiwidGhlbiIsIkRhdGUiLCJnYW1lTG9vcCIsImNvbXB1dGVyQ2hvaWNlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic3Vua09yTm90U3VuayIsImF0dGFja0Nvb3JkaW5hdGVzIiwic2hpcFN1bmsiXSwic291cmNlUm9vdCI6IiJ9